<ion-view view-title="Requests">
    <ion-content class="has-header has-tabs top padding">
        <ion-refresher
                pulling-text="Pull to refresh..."
                on-refresh="doRefresh()">
        </ion-refresher>
        <ion-list can-swipe="true">
            <div class="item item-divider">
                To Me
            </div>
            <ion-item class="item item-avatar" ng-repeat="req in toRequests">
                <img src="{{req.attributes.from.attributes.avatar}}">

                <h2>{{req.attributes.from.attributes.name}}</h2>

                <p>{{req.createdAt}}</p>
                <ion-option-button class="button-positive"
                                   ng-click="chat(req, req.attributes.from)">
                    Chat
                </ion-option-button>
                <ion-option-button class="button-info"
                                   ng-click="ignoreRequest(req)">
                    Ignore
                </ion-option-button>
            </ion-item>

            <div class="item item-divider">
                From Me
            </div>
            <ion-item class="item item-avatar" ng-repeat="req in fromRequests">
                <img src="{{req.attributes.to.attributes.avatar}}">

                <h2>{{req.attributes.to.attributes.name}}</h2>

                <p>{{req.createdAt | date:'short'}}</p>
                <ion-option-button class="button-info" ng-click="ignoreRequest(req)">
                    Ignore
                </ion-option-button>
                <ion-option-button class="button-positive" ng-click="chat(req, req.attributes.to)">
                    Chat
                </ion-option-button>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>